(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],{37:function(e,t,a){e.exports=a(66)},42:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(12),l=a.n(o),s=(a(42),a(16)),u=a(2),i=a(11),m=Object(r.createContext)(),d=Object(r.createContext)(),E=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useContext)(m),l=Object(r.useContext)(d);return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.trim()?(l.addNote(a.trim()).then((function(){o.show("\u0417\u0430\u043c\u0435\u0442\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430","success")})).catch((function(){o.show("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(","danger")})),n("")):o.show("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438")}},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",value:a,onChange:function(e){return n(e.target.value)}})))},b=a(68),p=a(67),v=function(e){var t=e.notes,a=e.onRemove,n=e.alert;return c.a.createElement(b.a,{component:"ul",className:"list-group"},t.map((function(e){return c.a.createElement(p.a,{key:e.id,classNames:"note",timeout:800},c.a.createElement("li",{className:"list-group-item note"},c.a.createElement("div",null,c.a.createElement("strong",null,e.title),c.a.createElement("br",null),c.a.createElement("small",null,e.data)),c.a.createElement("button",{onClick:function(){a(e.id),n.show("\u0417\u0430\u043c\u0435\u0442\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430","danger")},type:"button",className:"btn btn-outline-danger btn-sm"},"\xd7")))})))},f=function(){return c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"spinner-border m-5",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")))},O=function(){var e=Object(r.useContext)(d),t=e.loading,a=e.notes,n=e.fetchNotes,o=e.removeNote,l=Object(r.useContext)(m);return Object(r.useEffect)((function(){n()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(E,null),c.a.createElement("hr",null),t?c.a.createElement(f,null):c.a.createElement(v,{notes:a,onRemove:o,alert:l}))},h=function(){return c.a.createElement("div",{className:"jumbotron"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"display-4"},"Note App"),c.a.createElement("p",{className:"lead"},"Version ",c.a.createElement("strong",null,"1.06"))))},j=function(){return c.a.createElement("nav",{className:"navbar navbar-dark navbar-expand-lg bg-primary"},c.a.createElement("div",{className:"navbar-brand"},"Note App"),c.a.createElement("ul",{className:"navbar-nav"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.b,{className:"nav-link",to:"/",exact:!0},"Home")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.b,{className:"nav-link",to:"/about"},"About"))))},N=function(){var e=Object(r.useContext)(m),t=e.alert,a=e.hide;return c.a.createElement(p.a,{in:t.visible,timeout:{enter:500,exit:350},classNames:"alert",mountOnEnter:!0,unmountOnExit:!0},c.a.createElement("div",{className:"alert alert-".concat(t.type||"warning"," alert-dismissible")},c.a.createElement("strong",null,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"),t.text,c.a.createElement("button",{onClick:a,type:"button",className:"close","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))},g=a(14),y=a(4),w=(n={},Object(g.a)(n,"SHOW_ALERT",(function(e,t){var a=t.payload;return Object(y.a)(Object(y.a)({},a),{},{visible:!0})})),Object(g.a)(n,"HIDE_ALERT",(function(e){return Object(y.a)(Object(y.a)({},e),{},{visible:!1})})),Object(g.a)(n,"DEFAULT",(function(e){return e})),n),x=function(e,t){return(w[t.type]||w.DEFAULT)(e,t)},k=function(e){var t=e.children,a=Object(r.useReducer)(x,{visible:!1}),n=Object(i.a)(a,2),o=n[0],l=n[1],s=function(){return l({type:"HIDE_ALERT"})};return c.a.createElement(m.Provider,{value:{show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";l({type:"SHOW_ALERT",payload:{text:e,type:t}}),setTimeout(s,2500)},hide:s,alert:o}},t)},T=a(10),A=a.n(T),C=a(18),R=a(34),D=function(e,t){switch(t.type){case"SHOW_LOADER":return Object(y.a)(Object(y.a)({},e),{},{loading:!0});case"ADD_NOTE":return Object(y.a)(Object(y.a)({},e),{},{notes:[].concat(Object(R.a)(e.notes),[t.payload])});case"FETCH_NOTES":return Object(y.a)(Object(y.a)({},e),{},{notes:t.payload,loading:!1});case"REMOVE_NOTE":return Object(y.a)(Object(y.a)({},e),{},{notes:e.notes.filter((function(e){return e.id!==t.payload}))});default:return e}},L=a(33),_=a.n(L).a.create({baseURL:"https://todo-react-06.firebaseio.com/"}),S=function(e){var t=e.children,a=Object(r.useReducer)(D,{notes:[],loading:!1}),n=Object(i.a)(a,2),o=n[0],l=n[1],s=function(){return l({type:"SHOW_LOADER"})},u=function(){var e=Object(C.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),e.next=3,_.get("notes.json");case 3:t=e.sent,a=Object.keys(t.data).map((function(e){return Object(y.a)(Object(y.a)({},t.data[e]),{},{id:e})})),l({type:"FETCH_NOTES",payload:a});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(C.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:t,data:(new Date).toLocaleString()},e.prev=1,e.next=4,_.post("notes.json",a);case 4:n=e.sent,r=Object(y.a)(Object(y.a)({},a),{},{id:n.data.name}),l({type:"ADD_NOTE",payload:r}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(C.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.delete("notes/".concat(t,".json"));case 2:l({type:"REMOVE_NOTE",payload:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(d.Provider,{value:{showLoader:s,addNote:m,fetchNotes:u,removeNote:E,loading:o.loading,notes:o.notes}},t)};var H=function(){return c.a.createElement(S,null,c.a.createElement(k,null,c.a.createElement(s.a,null,c.a.createElement(j,null),c.a.createElement("div",{className:"container pt-4"},c.a.createElement(N,null),c.a.createElement(u.c,null,c.a.createElement(u.a,{path:"/",exact:!0,component:O}),c.a.createElement(u.a,{path:"/about",component:h}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.c34efd28.chunk.js.map